<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>NCL | Niños Cantores de Lara</title>

    <link
      rel="shortcut icon"
      href="https://img.icons8.com/fluency-systems-filled/48/FFFFFF/boy.png"
    />

    <script src="https://cdn.tailwindcss.com"></script>
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/flowbite/1.6.3/flowbite.min.css"
      rel="stylesheet"
    />
  </head>
  <body>
    <header class="absolute w-full z-10">
      <nav class="bg-gray-800 border-gray-200 px-4 py-2.5">
        <div
          class="flex flex-initial justify-between items-center mx-auto max-w-screen-xl"
        >
          <div class="flex gap-3 items-center">
            <div class="text-center">
              <button
                class="flex item-center"
                type="button"
                data-drawer-target="drawer-navigation"
                data-drawer-show="drawer-navigation"
                aria-controls="drawer-navigation"
              >
                <img
                  class="w-8 h-8"
                  src="https://img.icons8.com/ios-filled/50/FFFFFF/menu-rounded.png"
                />
              </button>
            </div>

            <a href="{% url 'home' %}" class="flex items-center pl-10">
              <img
                src="https://img.icons8.com/fluency-systems-filled/48/FFFFFF/boy.png"
                class="mr-3 h-6 sm:h-9"
                alt="NCL logo"
              />
              <span
                class="self-center text-xl font-semibold whitespace-nowrap text-white"
                >NCL</span
              >
            </a>
          </div>

          <!-- User menu -->
          <div class="">
            <div class="flex items-center md:order-2">
              <button
                type="button"
                class="flex mr-3 text-sm bg-gray-800 rounded-full md:mr-0 focus:ring-4 focus:ring-gray-600"
                id="user-menu-button"
                aria-expanded="false"
                data-dropdown-toggle="user-dropdown"
                data-dropdown-placement="bottom"
              >
                <span class="sr-only">Abrir menu de usuario</span>
                <svg
                  class="w-8 h-8 rounded-full text-white"
                  fill="currentColor"
                  viewBox="0 0 20 20"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    fill-rule="evenodd"
                    d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z"
                    clip-rule="evenodd"
                  ></path>
                </svg>
              </button>
              <!-- Dropdown menu -->
              <div
                class="hidden z-50 my-4 text-base list-none bg-gray-800 rounded divide-y divide-gray-600 shadow"
                id="user-dropdown"
                data-popper-reference-hidden=""
                data-popper-escaped=""
                data-popper-placement="bottom"
                style="
                  position: absolute;
                  inset: 0px auto auto 0px;
                  margin: 0px;
                  transform: translate3d(0px, 10.4px, 0px);
                "
              >
                <div class="py-3 px-4">
                  <span class="block text-sm text-white"> 28286521 </span>
                  <span class="block text-sm font-medium text-gray-400 truncate"
                    >email@domain</span
                  >
                </div>
                <ul class="py-1" aria-labelledby="user-menu-button">
                  <li>
                    <a
                      href=""
                      class="block py-2 px-4 text-sm text-gray-200 hover:bg-gray-600 hover:text-white"
                      >Cerrar sesión</a
                    >
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </nav>
    </header>

    {% comment %} Main {% endcomment %}
    <div class="flex flex-col min-h-screen">
      {% comment %} Aquí va el aside {% endcomment %}
      <!-- drawer component -->
      <div
        id="drawer-navigation"
        class="fixed top-0 left-0 z-40 h-screen p-4 overflow-y-auto transition-transform -translate-x-full w-80 bg-gray-800"
        tabindex="-1"
        aria-labelledby="drawer-navigation-label"
      >
        <h5
          id="drawer-navigation-label"
          class="text-base font-semibold uppercase text-gray-400"
        >
          Menú
        </h5>

        <div class="py-4 overflow-y-auto">
          <ul class="space-y-2">
            <li>
              <a
                href="{% url 'home' %}"
                class="flex items-center p-2 text-base font-normal rounded-lg text-white hover:bg-gray-700"
              >
                <img
                  src="https://img.icons8.com/ios-glyphs/30/9ca3af/pie-chart--v1.png"
                />
                <span class="ml-3">Inicio</span>
              </a>
            </li>
            <li>
              <a
                href="{% url 'student' %}"
                class="flex items-center p-2 text-base font-normal rounded-lg text-white hover:bg-gray-700"
              >
                <img
                  src="https://img.icons8.com/ios-glyphs/30/9ca3af/student-center.png"
                />
                <span class="ml-3">Estudiantes</span>
              </a>
            </li>
            <li>
              <a
                href="{% url 'representative' %}"
                class="flex items-center p-2 text-base font-normal rounded-lg text-white hover:bg-gray-700"
              >
                <img
                  src="https://img.icons8.com/ios-glyphs/30/9ca3af/parent-guardian.png"
                />
                <span class="ml-3">Representante</span>
              </a>
            </li>
            <li>
              <a
                href="{% url 'teacher' %}"
                class="flex items-center p-2 text-base font-normal rounded-lg text-white hover:bg-gray-700"
              >
                <img
                  src="https://img.icons8.com/ios-filled/30/9ca3af/teacher.png"
                />
                <span class="ml-3">Profesores</span>
              </a>
            </li>
            <li>
              <a
                href="{% url 'payment' %}"
                class="flex items-center p-2 text-base font-normal rounded-lg text-white hover:bg-gray-700"
              >
                <img
                  src="https://img.icons8.com/external-creatype-glyph-colourcreatype/30/9ca3af/external-dolar-miscellaneous-user-interface-v2-creatype-glyph-colourcreatype.png"
                />
                <span class="ml-3">Pagos</span>
              </a>
            </li>
            <li>
              <a
                href="{% url 'course' %}"
                class="flex items-center p-2 text-base font-normal rounded-lg text-white hover:bg-gray-700"
              >
                <img
                  src="https://img.icons8.com/ios-glyphs/30/9ca3af/grand-piano.png"
                />
                <span class="ml-3">Cursos</span>
              </a>
            </li>
          </ul>
        </div>
      </div>

      <!-- ========== MAIN ========== -->
      <div class="relative w-full px-20 py-12 min-h-screen pt-24 bg-gray-700">
        <main class="">
          <div class="">{% block content %} {% endblock %}</div>
        </main>
      </div>
    </div>

    {% comment %} {% include 'static/ncl/js/validaciones.js' %} {% endcomment %}

    <script>
      function validarLetras(id) {
        let inputId = document.getElementById(id);
        let valueInput = inputId.value;
        let regex = /[^a-zA-Z]/g;
        if (valueInput.match(regex)) {
          inputId.value = valueInput.replace(regex, "");
          alert("Este campo solo puede contener letras.");
        }
      }

      function validarNumeros(id) {
        let input = document.getElementById(id);
        input.addEventListener("keypress", function (event) {
          if (event.which < 48 || event.which > 57) {
            if (event.which != 13) {
              // Comprobar si la tecla presionada es Enter
              event.preventDefault();
              alert("Este campo solo puede contener números.");
            }
          }
        });
      }

      function doSearch() {
        const tableReg = document.getElementById("table-file");
        const searchText = document
          .getElementById("table-search")
          .value.toLowerCase();
        let total = 0;

        // Recorremos todas las filas con contenido de la tabla
        for (let i = 1; i < tableReg.rows.length; i++) {
          // Si el td tiene la clase "noSearch" no se busca en su contenido
          if (tableReg.rows[i].classList.contains("noSearch")) {
            continue;
          }

          let found = false;
          const cellsOfRow = tableReg.rows[i].getElementsByTagName("td");

          // Recorremos todas las celdas
          for (let j = 0; j < cellsOfRow.length && !found; j++) {
            const compareWith = cellsOfRow[j].innerHTML.toLowerCase();

            // Buscamos el texto en el contenido de la celda
            if (
              searchText.length == 0 ||
              compareWith.indexOf(searchText) > -1
            ) {
              found = true;
              total++;
            }
          }

          if (found) {
            tableReg.rows[i].style.display = "";
          } else {
            // si no ha encontrado ninguna coincidencia, esconde la fila de la tabla
            tableReg.rows[i].style.display = "none";
          }
        }

        // mostramos las coincidencias
        const lastTR = tableReg.rows[tableReg.rows.length - 1];
        const td = lastTR.querySelector("td");
        lastTR.classList.remove("hide", "text-red-500");

        if (searchText == "") {
          lastTR.classList.add("hide");
          td.innerHTML = "";
        } else if (total) {
          td.innerHTML =
            "Se ha encontrado " +
            total +
            " coincidencia" +
            (total > 1 ? "s" : "");
        } else {
          lastTR.classList.add("text-red-500");
          td.innerHTML = "No se han encontrado coincidencias";
        }
      }

      function validateDate(id) {
        let fechaActual = new Date().toISOString().split("T")[0];
        document.getElementById(id).max = fechaActual;
      }
    </script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/flowbite/1.6.3/flowbite.min.js"></script>
  </body>
</html>
